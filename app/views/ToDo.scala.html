@import model.{ ToDo, ToDoCategory }
@import model.viewValue.ViewValueToDo
@import java.time.format.DateTimeFormatter

@(vv: model.viewValue.ViewValueToDo)
@common.Default(vv){
<ul>
  <li><a href="@routes.HomeController.index()">Home</a></li>
  <li><a>カテゴリー一覧</a></li>
</ul>

<div class="todo-div">
  <div class="legend">
    <div><span style="background-color: @ToDoCategory.Color.FRONT.name"></span> フロントエンド</div>
    <div><span style="background-color: @ToDoCategory.Color.BACK.name"></span> バックエンド</div>
    <div><span style="background-color: @ToDoCategory.Color.INFRA.name"></span> インフラ</div>
  </div>
  <div class="todo-list">
    @for((todo, categoryOpt) <- vv.todos) { <div class="todo-item">
      <div class="todo-content">
        <div class="todo-title">@todo.v.title</div>
        <div class="todo-body">@todo.v.body</div>
        <div class="todo-dates">
          @defining(DateTimeFormatter.ofPattern("yyyy-MM-dd")) { dateFormatter =>
          <div>作成日: @todo.v.createdAt.format(dateFormatter)</div>
          <div>更新日: @todo.v.updatedAt.format(dateFormatter)</div>
          }
        </div>
      </div>
      <div class="todo-status-category">
        <div class="todo-status">@todo.v.state.name</div>
        <div class="todo-category">
          <span class="category-color" style="background-color: @categoryOpt.fold(" #FFFFFF")(_.v.color.name)"></span>
        </div>
      </div>
  </div>
  }
</div>
}